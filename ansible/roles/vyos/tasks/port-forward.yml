---

- name: configure HTTP port forward
  vyos.vyos.vyos_config:
    lines:
      - set nat destination rule 8080 description 'PortForward HTTP'
      - set nat destination rule 8080 destination port '80'
      - set nat destination rule 8080 inbound-interface 'eth0'
      - set nat destination rule 8080 protocol 'tcp'
      - set nat destination rule 8080 translation address '{{ FIREWALL.INGRESS_ADDRESS }}'

- name: configure HTTPS port forward
  vyos.vyos.vyos_config:
    lines:
      - set nat destination rule 8443 description 'PortForward HTTPS'
      - set nat destination rule 8443 destination port '443'
      - set nat destination rule 8443 inbound-interface 'eth0'
      - set nat destination rule 8443 protocol 'tcp'
      - set nat destination rule 8443 translation address '{{ FIREWALL.INGRESS_ADDRESS }}'
