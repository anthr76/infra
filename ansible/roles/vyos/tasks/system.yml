---
- name: configure name servers
  vyos.vyos.vyos_system:
    name_servers:
      - 1.1.1.1
      - 1.0.0.1

- name: configure domain search suffixes
  vyos.vyos.vyos_system:
    domain_search:
      - nwk1.rabbito.tech

- name: configure hostname and domain-name
  vyos.vyos.vyos_system:
    host_name: fw-1-nwk1
    domain_name: nwk1.rabbito.tech

- name: set vyos host mapping in VLAN_99
  vyos.vyos.vyos_config:
    lines:
      - set system static-host-mapping host-name 'fw-1.nwk1.rabbito.tech' inet '10.20.99.1'
      - set system static-host-mapping host-name 'sw-core.nwk1.rabbito.tech' inet '10.20.99.10'

- name: configure default route
  vyos.vyos.vyos_config:
    lines:
      - set protocols static route 0.0.0.0/0 dhcp-interface 'eth0'

- name: configure alt default route
  vyos.vyos.vyos_config:
    lines:
      - set protocols static table 10 route 0.0.0.0/0 dhcp-interface 'eth0'
      - set protocols static table 11 route 0.0.0.0/0 interface 'eth2'
