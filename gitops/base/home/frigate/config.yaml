mqtt:
  host: mosquitto
  topic_prefix: frigate
  user: user
  password: filledbyenv
rtmp:
  enabled: true
ffmpeg:
  hwaccel_args:
    - -hwaccel
    - vaapi
    - -hwaccel_device
    - /dev/dri/renderD128
    - -hwaccel_output_format
    - yuv420p
  output_args:
    record: -f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c:v copy -c:a aac
database:
  path: /data/frigate.db
detectors:
  coral:
    type: edgetpu
    device: usb
objects:
  track:
    - person
  filters:
    person:
      min_area: 2500
      max_area: 100000
      threshold: 0.7
snapshots:
  enabled: true
  timestamp: false
  bounding_box: true
  retain:
    default: 7
record:
  enabled: true
  retain:
    days: 2
    mode: motion
  events:
    retain:
      default: 5
      mode: active_objects
# Specify camera's
cameras:
  # --
  frigate_front_porch:
    ffmpeg:
      inputs:
        - path: rtsp://frigate:frigate!@front-porch-camera:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record
            - rtmp
        - path: rtsp://frigate:frigate!@front-porch-camera:554/cam/realmonitor?channel=1&subtype=2
          roles:
            - detect
    detect:
      width: 1280
      height: 720
      fps: 10
    zones:
      street:
        coordinates: 65,0,619,0,605,96,73,102
      font_yard:
        coordinates: 704,480,704,125,0,139,0,480
    motion:
      mask:
        - 683,42,678,15,420,17,425,39
  # --
  frigate_back_porch:
    ffmpeg:
      inputs:
        - path: rtsp://frigate:frigate!@back-porch-camera:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record
            - rtmp
        - path: rtsp://frigate:frigate!@back-porch-camera:554/cam/realmonitor?channel=1&subtype=2
          roles:
            - detect
    detect:
      width: 1280
      height: 720
      fps: 10
    objects:
      track:
        - person
    motion:
      mask:
        - 683,42,678,15,420,17,425,39
  # --
  frigate_back_yard:
    ffmpeg:
      inputs:
        - path: rtsp://frigate:frigate!@back-yard-camera:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record
            - rtmp
        - path: rtsp://frigate:frigate!@back-yard-camera:554/cam/realmonitor?channel=1&subtype=2
          roles:
            - detect
    detect:
      width: 1280
      height: 720
      fps: 10
    motion:
      mask:
        - 683,42,678,15,420,17,425,39
    zones:
      driveway:
        coordinates: 295,91,211,480,0,480,0,290,46,257,199,92

