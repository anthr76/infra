config:
  connectors:

  # GitHub configure 'OAuth Apps' -> 'New OAuth App', add callback URL
  # https://github.com/settings/developers
  - type: github
    id: github
    name: GitHub
    config:
      clientID: ${DEX_GITHUB_CLIENT_ID}
      clientSecret: ${DEX_GITHUB_CLIENT_SECRET}
      redirectURI: https://dex.k8s.rabbito.tech/callback
      # 'orgs' can be used to map groups from Github
      # https://github.com/coreos/dex/blob/master/Documentation/connectors/github.md
      orgs:
      - name: rabbito-home

  staticClients:
  - name: Traefik Forward Auth
    id: forward-auth
    secret: ${DEX_STATIC_CLIENT_SECRET}
    redirectURIs:
    - http://auth.k8s.rabbito.tech/_oauth
    - https://auth.k8s.rabbito.tech/_oauth
